<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>GitHub Follower Analyzer</title>
    <link rel="stylesheet" href="css/popup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <!-- Loading overlay -->
    <div id="loading-container" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Loading data...</p>
    </div>

    <!-- Form Section -->
    <div id="form-section">
        <div class="header">
            <i class="fa-brands fa-github"></i>
            <h2>GitHub Follower Analyzer</h2>
        </div>
        
        <form id="github-form">
            <div class="form-group">
                <label for="github-username">GitHub Username</label>
                <input type="text" id="github-username" placeholder="Enter username" required>
            </div>
            
            <div class="form-group">
                <label for="github-access-token">Access Token (Optional)</label>
                <input type="password" id="github-access-token" 
                    placeholder="For high follower/following counts"
                    title="Rate limit: 60 req/hr without token">
            </div>
            
            <button type="submit" class="btn btn-primary">
                <i class="fa fa-search"></i> Analyze
            </button>
        </form>
    </div>

    <!-- Results Section -->
    <div id="results-section" style="display: none;">
        <div class="header">
            <button id="btn-back" class="btn-icon" title="Search new user">
                <i class="fa fa-arrow-left"></i>
            </button>
            <h2>Results</h2>
        </div>

        <!-- User Profile Card -->
        <div class="user-card">
            <img id="user-image" src="img/fav.ico" alt="Profile">
            <div class="user-info">
                <h3 id="user-name">Username</h3>
                <div class="user-stats">
                    <span><i class="fas fa-users"></i> <span id="followers-count">0</span> followers</span>
                    <span><i class="fas fa-user-plus"></i> <span id="following-count">0</span> following</span>
                </div>
            </div>
        </div>

        <!-- Summary Stats -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Mutual</div>
                <div class="stat-value" id="mutual-count">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Not Following Back</div>
                <div class="stat-value" id="not-following-back-count">0</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Not Followed Back</div>
                <div class="stat-value" id="not-followed-back-count">0</div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
            <button id="btn-sort-asc" class="btn btn-small" title="Sort A-Z">
                <i class="fas fa-arrow-up"></i> A-Z
            </button>
            <button id="btn-sort-desc" class="btn btn-small" title="Sort Z-A">
                <i class="fas fa-arrow-down"></i> Z-A
            </button>
            <button id="btn-download" class="btn btn-small" title="Download JSON">
                <i class="fas fa-download"></i> JSON
            </button>
        </div>

        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-button active" data-tab="mutual">
                Mutual (<span id="tab-mutual-count">0</span>)
            </button>
            <button class="tab-button" data-tab="not-following">
                You Don't Follow (<span id="tab-not-following-count">0</span>)
            </button>
            <button class="tab-button" data-tab="not-followers">
                Don't Follow You (<span id="tab-not-followers-count">0</span>)
            </button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <div id="tab-mutual-content" class="tab-panel active">
                <div class="user-list" id="mutual-list"></div>
            </div>
            <div id="tab-not-following-content" class="tab-panel">
                <div class="user-list" id="not-following-list"></div>
            </div>
            <div id="tab-not-followers-content" class="tab-panel">
                <div class="user-list" id="not-followers-list"></div>
            </div>
        </div>
    </div>

    <script src="js/popup.js"></script>
</body>
</html>
